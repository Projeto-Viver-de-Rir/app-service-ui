import{_ as A,a as R}from"./UiParentCard.vue_vue_type_script_setup_true_lang-e8d1c95a.js";import{v as U,P as w,ae as j,ac as d,aw as F,at as M,o as r,c as b,m as c,b as t,f as m,w as e,L as i,V as v,O as p,ap as g,K as y,d as n,t as u,a as f,F as x,s as S,z as B,r as D}from"./index-b45d696c.js";import{u as H}from"./eventStore-82c3dce4.js";import{_ as I}from"./palhaco-c3575bca.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./operationRepository-f71a1956.js";const G=U({name:"EventDetail",components:{BaseBreadcrumb:A,UiParentCard:R},setup(){const s=w({title:"Eventos"}),l=w([{text:"Dashboard",disabled:!1,href:"/"},{text:"Eventos",disabled:!1,href:"/Eventos"},{text:"Gerenciar voluntários",disabled:!0,href:"#"}]),V=F(),k=M(),o=H();j(async()=>{await o.getById(V.params.id)});const C=()=>{o.edit()},h=()=>{history.back()},_=T=>{o.removeVolunteer(T)},a=()=>{o.saveVonlunteers(),k.push({path:"/Eventos",replace:!0})},E=d(()=>o.getEvent),$=d(()=>o.volunteersPresent),L=d(()=>o.isLoading),P=d(()=>o.isEditing),z=d(()=>o.getPlaces),N=d(()=>o.getNumberConfirmed);return{event:E,isLoading:L,isEditing:P,breadcrumbs:l,page:s,places:z,numberConfirmed:N,edit:C,back:h,removeVolunteer:_,volunteersPresent:$,save:a}}}),K={key:0,class:"loading"},O=n("Cancelar"),J=n("Salvar"),Q=n("Nome:"),W=n("Data:"),X=n("Horário de Início:"),Y={style:{"margin-bottom":"15px"}},Z=f("hr",{class:"rounded"},null,-1),ee=f("img",{src:I,alt:"user",height:"50"},null,-1),te=["src"],se=n("Excluir");function ae(s,l,V,k,o,C){const h=D("BaseBreadcrumb"),_=D("UiParentCard");return r(),b(x,null,[s.isLoading?(r(),b("div",K)):c("",!0),t(h,{title:s.page.title,breadcrumbs:s.breadcrumbs},null,8,["title","breadcrumbs"]),s.isLoading?c("",!0):(r(),m(_,{key:1},{default:e(()=>[t(p,null,{default:e(()=>[t(i,{cols:"12",md:"12",style:{"text-align":"right"}},{default:e(()=>[t(v,{style:{"margin-right":"5px"},size:"large",onClick:l[0]||(l[0]=a=>s.back()),color:"light",type:"submit"},{default:e(()=>[O]),_:1}),t(v,{style:{"margin-right":"5px"},size:"large",onClick:l[1]||(l[1]=a=>s.save()),color:"success",type:"submit"},{default:e(()=>[J]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(i,{cols:"12",md:"4"},{default:e(()=>[t(g,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:e(()=>[Q]),_:1}),t(y,{modelValue:s.event.name,"onUpdate:modelValue":l[2]||(l[2]=a=>s.event.name=a),disabled:!0},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"4"},{default:e(()=>[t(g,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:e(()=>[W]),_:1}),t(y,{disabled:!s.isEditing},{default:e(()=>[n(u(new Date(s.event.happenAt).toLocaleDateString()),1)]),_:1},8,["disabled"])]),_:1}),t(i,{cols:"12",md:"4"},{default:e(()=>[t(g,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:e(()=>[X]),_:1}),t(y,{disabled:"!isEditing"},{default:e(()=>[n(u(new Date(s.event.happenAt).getHours()+":"+(new Date(s.event.happenAt).getMinutes()<10?"0":"")+new Date(s.event.happenAt).getMinutes()),1)]),_:1})]),_:1})]),_:1}),t(p,{style:{display:"flex","align-items":"center","justify-content":"center"}},{default:e(()=>[f("h1",Y," Remova os candidatos que desmarcaram ("+u(s.numberConfirmed)+"/ "+u(s.event.occupancy)+")",1)]),_:1}),Z,(r(!0),b(x,null,S(s.volunteersPresent,a=>(r(),m(p,{key:a.id},{default:e(()=>[t(i,{cols:"12",md:"1"},{default:e(()=>[!a.photo.includes("jpg")||!a.photo.includes("png")?(r(),m(B,{key:0,size:"50"},{default:e(()=>[ee]),_:1})):c("",!0),a.photo.includes(".jpg")||a.photo.includes(".png")?(r(),m(B,{key:1,size:"50"},{default:e(()=>[f("img",{src:a.photo,height:"50"},null,8,te)]),_:2},1024)):c("",!0)]),_:2},1024),t(i,{cols:"12",md:"9"},{default:e(()=>[t(g,{class:"text-subtitle-1 font-weight-semibold text-lightText",style:{"margin-top":"15px"}},{default:e(()=>[n(u(a.name),1)]),_:2},1024)]),_:2},1024),t(i,{cols:"12",md:"2"},{default:e(()=>[t(v,{style:{"margin-right":"5px","background-color":"#cd5c5c",color:"white"},size:"large",onClick:E=>s.removeVolunteer(a),type:"submit"},{default:e(()=>[se]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}))],64)}const ue=q(G,[["render",ae]]);export{ue as default};
