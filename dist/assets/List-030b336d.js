import{_ as A,a as R}from"./UiParentCard.vue_vue_type_script_setup_true_lang-e8d1c95a.js";import{v as P,ae as L,ac as m,o as f,f as M,w as t,b as e,a as s,c as y,s as U,t as p,m as x,V as c,F as G,au as E,av as z,d as r,r as h,P as C,aw as q,at as F,L as i,O as u,aF as I,K as N,ap as b,ax as k}from"./index-b45d696c.js";import{u as T}from"./debtStore-8e73f474.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./palhaco-c3575bca.js";import"./operationRepository-f71a1956.js";import"./volunteerRepository-bd0b1d31.js";const w=T(),S=P({name:"DebtsTable",setup(){L(async()=>{await w.getData()});const l=o=>{w.openModalPayment(o)};return{debts:m(()=>w.getList),openModalPayment:l}}}),j=s("thead",null,[s("tr",null,[s("th",{class:"text-h6"},"Voluntário"),s("th",{class:"text-h6"},"Competência"),s("th",{class:"text-h6"},"Vencimento"),s("th",{class:"text-h6"},"Pagamento"),s("th",{class:"text-h6"}),s("th",{class:"text-h6"})])],-1),K={class:"d-flex align-left"},O={class:"text-h6"},H={class:"d-left"},J={class:"text-h6"},Q={class:"d-left"},W={class:"text-h6"},X={class:"d-left"},Y={key:0,class:"text-h6"},Z={class:"d-flex align-right"},ee={class:"ml-4",style:{width:"50px"}},te=r("Pagar"),le={class:"d-flex align-right"},se={class:"ml-4",style:{width:"100px"}},ae=r("Editar");function oe(l,a,o,V,v,$){const g=h("router-link");return f(),M(z,{class:"border",elevation:"0"},{default:t(()=>[e(E,{class:"month-table"},{default:t(()=>[j,s("tbody",null,[(f(!0),y(G,null,U(l.debts,d=>(f(),y("tr",{key:d.id,class:"month-item"},[s("td",null,[s("div",K,[s("div",null,[s("h6",O,p(d.volunteerId),1)])])]),s("td",null,[s("div",H,[s("div",null,[s("h6",J,p(d.name),1)])])]),s("td",null,[s("div",Q,[s("div",null,[s("h6",W,p(new Date(d.dueDate).toLocaleDateString()),1)])])]),s("td",null,[s("div",X,[s("div",null,[d.paidAt!==null?(f(),y("h6",Y,p(new Date(d.paidAt).toLocaleDateString()),1)):x("",!0)])])]),s("td",null,[s("div",Z,[s("div",ee,[d.paidAt==null?(f(),M(c,{key:0,size:"small",style:{"margin-right":"5px"},onClick:D=>l.openModalPayment(d),color:"success",type:"submit"},{default:t(()=>[te]),_:2},1032,["onClick"])):x("",!0)])])]),s("td",null,[s("div",le,[s("div",se,[e(g,{tag:"v-btn",class:"btn btn-primary mr-2",to:{name:"DetailtDebt",params:{id:d.id}}},{default:t(()=>[e(c,{size:"small",color:"primary",type:"submit"},{default:t(()=>[ae]),_:1})]),_:2},1032,["to"])])])])]))),128))])]),_:1})]),_:1})}const ne=B(S,[["render",oe]]),de=P({name:"FeesList",components:{BaseBreadcrumb:A,UiParentCard:R,debtsTable:ne},setup(){const l=C({title:"Mensalidades"}),a=C([{text:"Dashboard",disabled:!1,href:"/"},{text:"Mensalidades",disabled:!0,href:"#"}]);q(),F();const o=T(),V=m(()=>o.filters),v=m(()=>o.showModel),$=m(()=>o.getDebt),g=m(()=>o.showModelGenerateDebts);m(()=>o.startDateGenerateDebts),m(()=>o.endDateGenerateDebts);const d=m(()=>o.generateDebtsRequest),D=m(()=>o.users),_=m(()=>o.isLoading);return{filters:V,filter:async()=>{await o.filter()},getDebts:()=>{o.filter()},page:l,breadcrumbs:a,showModel:v,debt:$,closeModalPayment:()=>{o.closeModalPayment()},confirmPayment:async()=>{await o.confirmPayment()},openModalGenerateDebts:async()=>{await o.openModalGenerateDebts()},closeModalGenerateDebts:async()=>{await o.closeModalGenerateDebts()},generateDebts:async()=>{await o.generateDebts()},showModelGenerateDebts:g,generateDebtsRequest:d,users:D,isLoading:_}}}),ie={key:0,class:"loading"},re=r("Filtrar"),ue=r("Gerar agenda"),me=r("Voluntário:"),ce=r("Competência:"),fe=r("Data de pagamento:"),be=r("Cancelar"),pe=r("Confirmar"),ge=r("Informe as datas para qual deseja gerar as mensalidades"),_e=r("Data inicial:"),he=r("Data final:"),ye=r("Cancelar"),De=r("Gerar");function Ve(l,a,o,V,v,$){const g=h("BaseBreadcrumb"),d=h("UiParentCard"),D=h("debtsTable"),_=h("VueDatePicker");return f(),y(G,null,[l.isLoading?(f(),y("div",ie)):x("",!0),e(g,{title:l.page.title,breadcrumbs:l.breadcrumbs},null,8,["title","breadcrumbs"]),e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12"},{default:t(()=>[e(d,{title:"Filtros"},{default:t(()=>[e(u,null,{default:t(()=>[e(i,{cols:"5",md:"4"},{default:t(()=>[e(I,{modelValue:l.filters.volunteerId,"onUpdate:modelValue":a[0]||(a[0]=n=>l.filters.volunteerId=n),items:l.users,"item-value":"value","item-text":"title",label:"Selecione o voluntário",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"5",md:"4"},{default:t(()=>[e(N,{label:"Nome",modelValue:l.filters.name,"onUpdate:modelValue":a[1]||(a[1]=n=>l.filters.name=n)},null,8,["modelValue"])]),_:1}),e(i,{cols:"2",md:"2"},{default:t(()=>[e(c,{size:"large",onClick:a[2]||(a[2]=n=>l.filter()),color:"primary",type:"submit"},{default:t(()=>[re]),_:1})]),_:1}),e(i,{cols:"2",md:"2"},{default:t(()=>[e(c,{size:"large",onClick:a[3]||(a[3]=n=>l.openModalGenerateDebts()),style:{"margin-right":"15px"},color:"warning",type:"submit"},{default:t(()=>[ue]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12"},{default:t(()=>[e(D)]),_:1})]),_:1}),e(k,{modelValue:l.showModel,"onUpdate:modelValue":a[7]||(a[7]=n=>l.showModel=n),width:"450"},{default:t(()=>[e(d,{title:"Confirmação pagamento"},{default:t(()=>[e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12"},{default:t(()=>[e(b,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:t(()=>[me]),_:1}),s("h1",null,p(l.debt.volunteerId),1)]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12"},{default:t(()=>[e(b,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:t(()=>[ce]),_:1}),s("h1",null,p(l.debt.name),1)]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12"},{default:t(()=>[e(b,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:t(()=>[fe]),_:1}),e(_,{modelValue:l.debt.paidAt,"onUpdate:modelValue":a[4]||(a[4]=n=>l.debt.paidAt=n),inline:"",format:l.format,"auto-apply":"",enableTimePicker:!1,locale:"pt-BR"},null,8,["modelValue","format"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12",style:{"text-align":"right"}},{default:t(()=>[e(c,{style:{"margin-right":"5px"},size:"large",onClick:a[5]||(a[5]=n=>l.closeModalPayment()),color:"light",type:"submit"},{default:t(()=>[be]),_:1}),e(c,{style:{"margin-right":"5px"},size:"large",onClick:a[6]||(a[6]=n=>l.confirmPayment()),disabled:l.debt.paidAt==null,color:"success",type:"submit"},{default:t(()=>[pe]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:l.showModelGenerateDebts,"onUpdate:modelValue":a[12]||(a[12]=n=>l.showModelGenerateDebts=n),width:"700"},{default:t(()=>[e(d,{title:"Gerar mensalidades"},{default:t(()=>[e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12"},{default:t(()=>[e(b,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:t(()=>[ge]),_:1})]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(i,{cols:"12",md:"6"},{default:t(()=>[e(b,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:t(()=>[_e]),_:1}),e(_,{modelValue:l.generateDebtsRequest.startsAt,"onUpdate:modelValue":a[8]||(a[8]=n=>l.generateDebtsRequest.startsAt=n),inline:"",format:l.format,"auto-apply":"",enableTimePicker:!1,locale:"pt-BR"},null,8,["modelValue","format"])]),_:1}),e(i,{cols:"12",md:"6"},{default:t(()=>[e(b,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:t(()=>[he]),_:1}),e(_,{modelValue:l.generateDebtsRequest.endsAt,"onUpdate:modelValue":a[9]||(a[9]=n=>l.generateDebtsRequest.endsAt=n),inline:"",format:l.format,"auto-apply":"",enableTimePicker:!1,locale:"pt-BR"},null,8,["modelValue","format"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(i,{cols:"12",md:"12",style:{"text-align":"right"}},{default:t(()=>[e(c,{style:{"margin-right":"5px"},size:"large",onClick:a[10]||(a[10]=n=>l.closeModalGenerateDebts()),color:"light",type:"submit"},{default:t(()=>[ye]),_:1}),e(c,{style:{"margin-right":"5px"},size:"large",onClick:a[11]||(a[11]=n=>l.generateDebts()),color:"success",type:"submit"},{default:t(()=>[De]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const Le=B(de,[["render",Ve]]);export{Le as default};
