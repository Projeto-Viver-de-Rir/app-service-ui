import{ar as y,aj as u,aC as p,ac as e}from"./index-b45d696c.js";import{v}from"./volunteerRepository-bd0b1d31.js";class L{constructor(t,c){this.name=t,this.nickname=c}}const I=y("volunteer",()=>{const a=u({isLoading:!0,filters:new L("",""),users:[],user:null,isEditing:!1,filterName:"",filterEmail:"",initialUser:null,action:"D",canEdit:!1}),t=p.resolve(v),c=e(()=>a.users),d=e(()=>a.user),r=e(()=>a.isLoading),o=e(()=>a.filters),g=e(()=>{var i;return(i=a.user)==null?void 0:i.availability}),f=e(()=>a.isEditing);return{filter:async()=>{a.isLoading=!0;const i=await t.get(a.filters.name,a.filters.nickname,1,15);a.users=i.result,a.isLoading=!1},getData:async()=>{a.isLoading=!0;const i=await t.get("","",1,15);a.users=i.result,a.isLoading=!1},getById:async i=>{a.isLoading=!0;const s=await t.getById(i);a.user=s,console.log(s),a.initialUser=s,a.isLoading=!1},getUser:d,getList:c,isLoading:r,isEditing:f,filters:o,availability:g,edit:async()=>{a.isEditing=!0},cancel:async()=>{a.action==="D"?(a.isEditing=!1,a.user=a.initialUser):history.go(-1)},save:async()=>{a.isLoading=!0;var i=a.user;console.log(i==null?void 0:i.availability),await t.update({id:i==null?void 0:i.id,name:i==null?void 0:i.name,nickname:i==null?void 0:i.nickname,email:i==null?void 0:i.email,phone:i==null?void 0:i.phone,address:i==null?void 0:i.address,city:i==null?void 0:i.city,state:i==null?void 0:i.state,zip:i==null?void 0:i.zip,birthDate:i==null?void 0:i.birthDate,identifier:i==null?void 0:i.identifier,availability:i==null?void 0:i.availability,comments:i==null?void 0:i.comments,status:i==null?void 0:i.status}),a.isLoading=!1,a.isEditing=!1},changeAvailability:async i=>{let s=a.user;if(!i.includes("1")&&!i.includes("2")&&!i.includes("3")&&!i.includes("4")&&!i.includes("5")&&!i.includes("6")&&!i.includes("0"))s.availability="";else{let m=i.split(","),n="";m.forEach(l=>{l!==""&&(n=n+l+",")}),n=n.slice(0,-1),s.availability=n}a.user=s}}});export{I as u};
