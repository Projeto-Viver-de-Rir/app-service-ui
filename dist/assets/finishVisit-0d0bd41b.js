import{_ as F,a as S}from"./UiParentCard.vue_vue_type_script_setup_true_lang-e8d1c95a.js";import{v as U,P as w,ae as j,ac as d,aw as I,at as M,o as i,c as b,m as u,b as t,f as c,w as e,L as r,V as k,O as m,ap as p,K as v,d as l,t as V,F as B,s as R,z as D,a as f,az as H,r as $}from"./index-b45d696c.js";import{u as q}from"./eventStore-82c3dce4.js";import{_ as K}from"./palhaco-c3575bca.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./operationRepository-f71a1956.js";const G=U({name:"EventDetail",components:{BaseBreadcrumb:F,UiParentCard:S},setup(){const s=w({title:"Eventos"}),o=w([{text:"Dashboard",disabled:!1,href:"/"},{text:"Eventos",disabled:!1,href:"/Eventos"},{text:"Finalizar Evento",disabled:!0,href:"#"}]),y=I(),E=M(),n=q();j(async()=>{await n.getById(y.params.id)});const x=()=>{n.edit()},g=()=>{history.back()},h=_=>{n.removeVolunteer(_)},a=()=>{n.finish(),E.push({path:"/Eventos",replace:!0})},C=_=>{n.changeVolunteer(_)},L=d(()=>n.getEvent),P=d(()=>n.isLoading),z=d(()=>n.isEditing),N=d(()=>n.getPlaces),T=d(()=>n.volunteersPresent),A=d(()=>n.getNumberConfirmed);return{event:L,isLoading:P,isEditing:z,breadcrumbs:o,page:s,places:N,numberConfirmed:A,edit:x,back:g,removeVolunteer:h,volunteersPresent:T,finish:a,changeVolunteer:C}}}),J={key:0,class:"loading"},Q=l("Cancelar"),W=l("Salvar"),X=l("Nome:"),Y=l("Data:"),Z=l("Horário de Início:"),ee=f("h1",{style:{"margin-bottom":"15px"}}," Indique a presença dos voluntarios ",-1),te=f("hr",{class:"rounded"},null,-1),se=f("img",{src:K,alt:"user",height:"50"},null,-1),ae=["src"];function ne(s,o,y,E,n,x){const g=$("BaseBreadcrumb"),h=$("UiParentCard");return i(),b(B,null,[s.isLoading?(i(),b("div",J)):u("",!0),t(g,{title:s.page.title,breadcrumbs:s.breadcrumbs},null,8,["title","breadcrumbs"]),s.isLoading?u("",!0):(i(),c(h,{key:1},{default:e(()=>[t(m,null,{default:e(()=>[t(r,{cols:"12",md:"12",style:{"text-align":"right"}},{default:e(()=>[t(k,{style:{"margin-right":"5px"},size:"large",onClick:o[0]||(o[0]=a=>s.back()),color:"light",type:"submit"},{default:e(()=>[Q]),_:1}),t(k,{style:{"margin-right":"5px"},size:"large",onClick:o[1]||(o[1]=a=>s.finish()),color:"success",type:"submit"},{default:e(()=>[W]),_:1})]),_:1})]),_:1}),t(m,null,{default:e(()=>[t(r,{cols:"12",md:"4"},{default:e(()=>[t(p,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:e(()=>[X]),_:1}),t(v,{modelValue:s.event.name,"onUpdate:modelValue":o[2]||(o[2]=a=>s.event.name=a),disabled:!0},null,8,["modelValue"])]),_:1}),t(r,{cols:"12",md:"4"},{default:e(()=>[t(p,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:e(()=>[Y]),_:1}),t(v,{disabled:!s.isEditing},{default:e(()=>[l(V(new Date(s.event.happenAt).toLocaleDateString()),1)]),_:1},8,["disabled"])]),_:1}),t(r,{cols:"12",md:"4"},{default:e(()=>[t(p,{class:"text-subtitle-1 font-weight-semibold text-lightText"},{default:e(()=>[Z]),_:1}),t(v,{disabled:"!isEditing"},{default:e(()=>[l(V(new Date(s.event.happenAt).getHours()+":"+(new Date(s.event.happenAt).getMinutes()<10?"0":"")+new Date(s.event.happenAt).getMinutes()),1)]),_:1})]),_:1})]),_:1}),t(m,{style:{display:"flex","align-items":"center","justify-content":"center"}},{default:e(()=>[ee]),_:1}),te,(i(!0),b(B,null,R(s.volunteersPresent,a=>(i(),c(m,{key:a.id},{default:e(()=>[t(r,{cols:"12",md:"1"},{default:e(()=>[!a.photo.includes("jpg")||!a.photo.includes("png")?(i(),c(D,{key:0,size:"50"},{default:e(()=>[se]),_:1})):u("",!0),a.photo.includes(".jpg")||a.photo.includes(".png")?(i(),c(D,{key:1,size:"50"},{default:e(()=>[f("img",{src:a.photo,height:"50"},null,8,ae)]),_:2},1024)):u("",!0)]),_:2},1024),t(r,{cols:"12",md:"9"},{default:e(()=>[t(p,{class:"text-subtitle-1 font-weight-semibold text-lightText",style:{"margin-top":"15px"}},{default:e(()=>[l(V(a.name),1)]),_:2},1024)]),_:2},1024),t(r,{cols:"12",md:"2"},{default:e(()=>[t(H,{color:"primary","model-value":!0,onChange:C=>s.changeVolunteer(a),"hide-details":""},null,8,["onChange"])]),_:2},1024)]),_:2},1024))),128))]),_:1}))],64)}const ce=O(G,[["render",ne]]);export{ce as default};
